{"version":3,"sources":["public/app/component/addData-form/data-form-cmp.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YAYA;gBAEI,qBAAoB,WAAwB,EAAU,MAAc,EAAU,kBAAsC;oBAAhG,gBAAW,GAAX,WAAW,CAAa;oBAAU,WAAM,GAAN,MAAM,CAAQ;oBAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;oBAOpH,cAAS,GAAY,KAAK,CAAC;oBAC3B,gBAAW,GAAa,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBACxC,cAAS,GAAoB;wBACzB,SAAS,EAAE,SAAS;qBACvB,CAAC;oBAVE,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;oBAChC,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;oBACzC,IAAI,CAAC,IAAI,EAAE,CAAC;gBAChB,CAAC;gBAUO,0BAAI,GAAZ;oBAAA,iBAYC;oBAVG,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oBAExD,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAEf,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;6BAC9C,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC;6BACtB,SAAS,CAAC,UAAA,SAAS;4BAChB,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;wBAC/B,CAAC,CAAC,CAAC;oBACX,CAAC;gBACL,CAAC;gBAED,8BAAQ,GAAR;oBAAA,iBAeC;oBAbG,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBAEvB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC;yBACjD,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC;yBACtB,SAAS,CAAC,UAAA,MAAM;wBACb,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;wBAC5B,KAAI,CAAC,SAAS,GAAG,CAAC,KAAI,CAAC,MAAM,CAAC;wBAE9B,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;4BACjB,KAAI,CAAC,SAAS,EAAE,CAAC;wBACrB,CAAC;oBAEL,CAAC,CAAC,CAAC;gBACX,CAAC;gBAED,+BAAS,GAAT;oBACI,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACxD,CAAC;gBAED,sBAAI,mCAAU;yBAAd,cAAmB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;;mBAAA;gBA1D/D;oBAAC,oBAAS,CAAC;wBACP,QAAQ,EAAE,aAAa;qBAC1B,CAAC;oBACD,eAAI,CAAC;wBACF,WAAW,EAAE,6CAA6C;wBAC1D,UAAU,EAAE,CAAC,0BAAe,EAAE,0BAAe,CAAC;qBACjD,CAAC;;+BAAA;gBAuDF,kBAAC;;YAAD,CAtDA,AAsDC,IAAA;YAtDD,qCAsDC,CAAA","file":"public/app/component/addData-form/data-form-cmp.js","sourcesContent":["import {Component, View, FORM_DIRECTIVES, CORE_DIRECTIVES, EventEmitter} from 'angular2/angular2';\nimport {RouteParams, Router} from 'angular2/router';\n\nimport {dataFriendsService} from '../core/data-friends-service';\n\n@Component({\n    selector: 'friend-form'\n})\n@View({\n    templateUrl: 'app/components/friend-form/friend-form.html',\n    directives: [FORM_DIRECTIVES, CORE_DIRECTIVES]\n})\nexport class DataFormCmp {\n\n    constructor(private routeParams: RouteParams, private router: Router, private dataFriendsService: dataFriendsService) {\n        console.log(routeParams.params);\n        console.log('FriendFormCmp initialized');\n        this.init();\n    }\n    \n    errors: any[];\n    formSaved: boolean = false;\n    reputations: number[] = [1, 2, 3, 4, 5];\n    formModel: App.IdataFriend = {\n        firstName: undefined\n    };\n\n\n    private init() {\n\n        var iddataFriend = this.routeParams.get('iddataFriend');\n\n        if (iddataFriend) {\n\n            this.dataFriendsService.one(parseInt(iddataFriend))\n                .map(res => res.json())\n                .subscribe(formModel => {\n                    this.formModel = formModel;\n                });\n        }\n    }\n\n    saveForm() {\n\n        this.formSaved = false;\n\n        this.dataFriendsService.savedataFriend(this.formModel)\n            .map(res => res.json())\n            .subscribe(result => {\n                this.errors = result.errors;\n                this.formSaved = !this.errors;\n\n                if (this.formSaved) {\n                    this.fireEvent();\n                }\n\n            });\n    }\n\n    fireEvent() {\n        this.dataFriendsService.formSavedEvent.next('yeee');\n    }\n\n    get diagnostic() { return JSON.stringify(this.formModel); }\n\n\n}\n"],"sourceRoot":"/source/"}